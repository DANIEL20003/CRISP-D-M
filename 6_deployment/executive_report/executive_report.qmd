---
title: "Reporte Ejecutivo"
subtitle: "Análisis de Datos y Segmentación RFM - Artesanías Riobamba"
author: 
  - name: "Daniel Quiguiri"
    affiliation: "Código: 7270"
date: "2026-01-20"
format:
  pdf:
    toc: true
    toc-depth: 3
    number-sections: true
    colorlinks: true
    geometry:
      - margin=2.5cm
    fontsize: 11pt
    include-in-header:
      text: |
        \usepackage{fancyhdr}
        \pagestyle{fancy}
        \fancyhead[L]{Artesanías Riobamba}
        \fancyhead[R]{Daniel Quiguiri - 7270}
        \fancyfoot[C]{\thepage}
execute:
  echo: false
  warning: false
  message: false
---

```{python}
#| label: setup
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np
from pathlib import Path

plt.style.use('seaborn-v0_8-whitegrid')
sns.set_palette("husl")

base_path = Path("../../data/raw")
processed_path = Path("../../data/processed")

# Cargar datos
ventas = pd.read_csv(base_path / "ventas.csv")
clientes = pd.read_csv(base_path / "clientes.csv")
productos = pd.read_csv(base_path / "productos.csv")
detalle = pd.read_csv(base_path / "detalle_ventas.csv")
rfm = pd.read_csv(processed_path / "rfm_final_data.csv")

# Calcular total de ventas desde detalle_ventas
if 'subtotal' in detalle.columns:
    total_ventas = detalle['subtotal'].sum()
elif 'cantidad' in detalle.columns and 'precio_unitario' in detalle.columns:
    total_ventas = (detalle['cantidad'] * detalle['precio_unitario']).sum()
else:
    total_ventas = rfm['monetary'].sum()

num_transacciones = len(ventas)
num_clientes = len(clientes)
num_productos = len(productos)
ticket_promedio = total_ventas / num_transacciones if num_transacciones > 0 else 0

# Preparar datos de ventas
ventas['fecha'] = pd.to_datetime(ventas['fecha'])
ventas['mes'] = ventas['fecha'].dt.to_period('M')

# Crear segmentos RFM
rfm['segmento'] = pd.qcut(rfm['monetary'], q=4, labels=['Bajo Valor', 'Valor Medio-Bajo', 'Valor Medio-Alto', 'Alto Valor'])
```

# Resumen Ejecutivo

## Contexto del Proyecto

**Artesanías Riobamba** es una empresa mediana con **20 años** en el mercado, ubicada en el cantón Riobamba, Ecuador. La empresa se dedica a la comercialización de productos artesanales tradicionales, atendiendo tanto al mercado local como a turistas nacionales e internacionales.

Este análisis tiene como objetivo identificar patrones de ventas, comportamiento de clientes y oportunidades de mejora operativa mediante la metodología **CRISP-DM** (Cross-Industry Standard Process for Data Mining), un marco metodológico estándar para proyectos de minería de datos.

El proyecto abarca el análisis de datos históricos de ventas, la segmentación de clientes mediante el modelo RFM y la generación de recomendaciones estratégicas basadas en evidencia para mejorar la rentabilidad del negocio.

## Objetivos del Análisis

Los objetivos específicos de este proyecto son:

1. **Comprender el comportamiento de ventas histórico:** Identificar tendencias temporales, estacionalidad y patrones de compra.

2. **Segmentar clientes mediante el modelo RFM:** Clasificar a los clientes según su Recencia (última compra), Frecuencia (número de compras) y valor Monetario (gasto total).

3. **Identificar oportunidades de mejora y crecimiento:** Detectar áreas de oportunidad en productos, canales y segmentos de mercado.

4. **Proporcionar recomendaciones estratégicas basadas en datos:** Entregar insights accionables para la toma de decisiones gerenciales.

## Hallazgos Principales

El análisis de los datos de Artesanías Riobamba ha revelado información clave sobre el desempeño del negocio. A continuación se presentan los indicadores más relevantes:

| Indicador | Valor |
|-----------|-------|
| **Ventas Totales** | $`{python} f"{total_ventas:,.2f}"` |
| **Transacciones** | `{python} f"{num_transacciones:,}"` |
| **Clientes Registrados** | `{python} f"{num_clientes:,}"` |
| **Productos en Catálogo** | `{python} f"{num_productos:,}"` |
| **Ticket Promedio** | $`{python} f"{ticket_promedio:,.2f}"` |

Los datos muestran un volumen considerable de transacciones con una base de clientes diversificada. El ticket promedio indica el valor típico de cada compra, siendo un indicador clave para estrategias de upselling y cross-selling.

# Análisis de Ventas

Esta sección presenta un análisis detallado del comportamiento de ventas de Artesanías Riobamba, incluyendo tendencias temporales, distribución de valores y patrones por día de la semana.

## Tendencia de Ventas Mensuales

El análisis de la tendencia mensual permite identificar patrones estacionales y ciclos de negocio. Este tipo de información es fundamental para la planificación de inventario, campañas de marketing y gestión de recursos humanos.

```{python}
#| label: fig-ventas-mes
#| fig-cap: "Evolución de Ventas Mensuales"

# Unir con detalle para obtener totales
if 'subtotal' in detalle.columns:
    ventas_detalle = ventas.merge(detalle, on='venta_id')
    ventas_detalle['total'] = ventas_detalle['subtotal']
elif 'cantidad' in detalle.columns and 'precio_unitario' in detalle.columns:
    ventas_detalle = ventas.merge(detalle, on='venta_id')
    ventas_detalle['total'] = ventas_detalle['cantidad'] * ventas_detalle['precio_unitario']
else:
    ventas_detalle = ventas.copy()
    ventas_detalle['total'] = total_ventas / len(ventas)

ventas_mensuales = ventas_detalle.groupby('mes')['total'].sum()

fig, ax = plt.subplots(figsize=(10, 5))
ventas_mensuales.plot(kind='line', marker='o', ax=ax, color='#8B4513', linewidth=2, markersize=8)
ax.set_xlabel('Mes', fontsize=12)
ax.set_ylabel('Ventas ($)', fontsize=12)
ax.set_title('Tendencia de Ventas Mensuales - Artesanías Riobamba', fontsize=14, fontweight='bold')
ax.grid(True, alpha=0.3)
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
```

**Observaciones clave:**

- La gráfica muestra la evolución del volumen de ventas a lo largo del tiempo analizado.
- Se pueden identificar picos de ventas que podrían corresponder a temporadas altas (fiestas, vacaciones, eventos locales).
- Los valles en la gráfica representan períodos de menor actividad comercial.
- Esta información permite planificar promociones estratégicas en períodos de baja demanda.

## Distribución del Valor de Ventas

Comprender la distribución del valor de las transacciones es esencial para diseñar estrategias de pricing y promociones. El análisis de la dispersión de valores ayuda a identificar el comportamiento típico de compra.

```{python}
#| label: fig-dist-ventas
#| fig-cap: "Distribución del Valor de las Transacciones"

# Calcular total por venta
if 'subtotal' in detalle.columns:
    totales_venta = detalle.groupby('venta_id')['subtotal'].sum()
elif 'cantidad' in detalle.columns and 'precio_unitario' in detalle.columns:
    detalle['line_total'] = detalle['cantidad'] * detalle['precio_unitario']
    totales_venta = detalle.groupby('venta_id')['line_total'].sum()
else:
    totales_venta = pd.Series([total_ventas / len(ventas)] * len(ventas))

fig, ax = plt.subplots(figsize=(10, 5))
ax.hist(totales_venta, bins=30, color='#2E86AB', edgecolor='white', alpha=0.7)
ax.axvline(totales_venta.mean(), color='red', linestyle='--', linewidth=2, label=f'Media: ${totales_venta.mean():,.2f}')
ax.axvline(totales_venta.median(), color='green', linestyle='--', linewidth=2, label=f'Mediana: ${totales_venta.median():,.2f}')
ax.set_xlabel('Valor de Venta ($)', fontsize=12)
ax.set_ylabel('Frecuencia', fontsize=12)
ax.set_title('Distribución del Valor de Transacciones', fontsize=14, fontweight='bold')
ax.legend()
plt.tight_layout()
plt.show()
```

**Interpretación:**

- La **media** (línea roja) representa el valor promedio de todas las transacciones.
- La **mediana** (línea verde) indica el valor central, menos afectado por valores extremos.
- La forma de la distribución revela si hay concentración en compras pequeñas, medianas o grandes.
- Una diferencia significativa entre media y mediana sugiere presencia de transacciones de alto valor que elevan el promedio.

## Análisis por Día de la Semana

El comportamiento de compra varía según el día de la semana. Este análisis permite optimizar la asignación de personal y planificar promociones específicas por día.

```{python}
#| label: fig-dia-semana
#| fig-cap: "Ventas por Día de la Semana"

ventas['dia_semana'] = ventas['fecha'].dt.day_name()
dias_orden = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
ventas_dia = ventas['dia_semana'].value_counts().reindex(dias_orden)

fig, ax = plt.subplots(figsize=(10, 5))
colors = plt.cm.Blues(np.linspace(0.3, 0.9, len(ventas_dia)))
bars = ax.bar(ventas_dia.index, ventas_dia.values, color=colors, edgecolor='black')
ax.set_xlabel('Día de la Semana', fontsize=12)
ax.set_ylabel('Número de Transacciones', fontsize=12)
ax.set_title('Distribución de Ventas por Día de la Semana', fontsize=14, fontweight='bold')
plt.xticks(rotation=45, ha='right')
plt.tight_layout()
plt.show()
```

**Hallazgos:**

- Los fines de semana típicamente muestran mayor actividad debido a la afluencia de turistas.
- Los días con menor actividad representan oportunidades para promociones especiales.
- Esta información es valiosa para la programación de personal y gestión de inventario.

# Análisis de Productos

El catálogo de productos de Artesanías Riobamba es diverso y abarca múltiples categorías artesanales. Esta sección analiza la composición del catálogo y el desempeño de ventas por producto.

## Productos por Categoría

La distribución de productos por categoría refleja la estrategia comercial de la empresa y la diversidad de la oferta artesanal.

```{python}
#| label: fig-categorias
#| fig-cap: "Distribución de Productos por Categoría"

fig, ax = plt.subplots(figsize=(10, 6))
cat_counts = productos['categoria'].value_counts()
colors = plt.cm.Set3(range(len(cat_counts)))
bars = ax.bar(cat_counts.index, cat_counts.values, color=colors, edgecolor='black')

for bar, count in zip(bars, cat_counts.values):
    ax.text(bar.get_x() + bar.get_width()/2, bar.get_height() + 0.5, 
            str(count), ha='center', va='bottom', fontsize=11, fontweight='bold')

ax.set_xlabel('Categoría', fontsize=12)
ax.set_ylabel('Cantidad de Productos', fontsize=12)
ax.set_title('Productos por Categoría', fontsize=14, fontweight='bold')
plt.xticks(rotation=45, ha='right')
plt.tight_layout()
plt.show()
```

**Análisis de categorías:**

- El gráfico muestra la cantidad de productos disponibles en cada categoría.
- Las categorías con mayor número de productos indican áreas de especialización.
- Categorías con pocos productos podrían representar oportunidades de expansión.
- El balance entre categorías debe alinearse con la demanda del mercado.

## Top 10 Productos Más Vendidos

Identificar los productos estrella es fundamental para la gestión de inventario y estrategias de marketing.

```{python}
#| label: fig-top-productos
#| fig-cap: "Top 10 Productos Más Vendidos"

if 'producto_id' in detalle.columns and 'cantidad' in detalle.columns:
    top_productos = detalle.groupby('producto_id')['cantidad'].sum().nlargest(10)
    top_productos_df = top_productos.reset_index()
    top_productos_df = top_productos_df.merge(productos[['producto_id', 'nombre']], on='producto_id')
    
    fig, ax = plt.subplots(figsize=(10, 6))
    colors = plt.cm.Oranges(np.linspace(0.4, 0.9, len(top_productos_df)))
    bars = ax.barh(top_productos_df['nombre'], top_productos_df['cantidad'], color=colors, edgecolor='black')
    ax.set_xlabel('Cantidad Vendida', fontsize=12)
    ax.set_ylabel('Producto', fontsize=12)
    ax.set_title('Top 10 Productos Más Vendidos', fontsize=14, fontweight='bold')
    ax.invert_yaxis()
    plt.tight_layout()
    plt.show()
```

**Implicaciones estratégicas:**

- Los productos más vendidos deben mantener stock óptimo para evitar quiebres.
- Estos productos pueden ser utilizados como "productos ancla" en promociones.
- Analizar qué hace exitosos a estos productos puede informar el desarrollo de nuevos productos.
- Considerar estrategias de bundling con productos de menor rotación.

## Análisis de Precios por Categoría

La estructura de precios por categoría revela el posicionamiento de mercado y las oportunidades de pricing.

```{python}
#| label: fig-precios-cat
#| fig-cap: "Distribución de Precios por Categoría"

fig, ax = plt.subplots(figsize=(10, 6))
productos.boxplot(column='precio_unitario', by='categoria', ax=ax)
ax.set_xlabel('Categoría', fontsize=12)
ax.set_ylabel('Precio Unitario ($)', fontsize=12)
ax.set_title('Distribución de Precios por Categoría', fontsize=14, fontweight='bold')
plt.suptitle('')
plt.xticks(rotation=45, ha='right')
plt.tight_layout()
plt.show()
```

**Observaciones:**

- Los boxplots muestran la dispersión de precios dentro de cada categoría.
- La línea central representa la mediana de precios.
- Los puntos fuera de los bigotes indican productos con precios atípicos (premium o económicos).
- Categorías con mayor dispersión tienen oferta diversificada en rangos de precio.

# Segmentación de Clientes (Modelo RFM)

La segmentación de clientes es una técnica fundamental en el marketing analítico que permite identificar grupos de clientes con comportamientos similares para diseñar estrategias personalizadas.

## Descripción del Modelo RFM

El modelo **RFM** es una técnica de segmentación probada que clasifica clientes basándose en tres dimensiones comportamentales:

| Dimensión | Descripción | Interpretación |
|-----------|-------------|----------------|
| **Recencia (R)** | Días desde la última compra | Menor valor = cliente más activo |
| **Frecuencia (F)** | Número total de compras | Mayor valor = cliente más leal |
| **Valor Monetario (M)** | Valor total gastado | Mayor valor = cliente más valioso |

Este modelo permite identificar:

- **Clientes VIP:** Alta frecuencia, alto valor, compra reciente
- **Clientes en riesgo:** Buena frecuencia histórica pero no compran recientemente
- **Clientes nuevos:** Compra reciente pero baja frecuencia
- **Clientes perdidos:** Sin actividad reciente, baja frecuencia

## Estadísticas Descriptivas RFM

Las estadísticas descriptivas proporcionan una visión general del comportamiento de la base de clientes:

```{python}
#| label: tbl-rfm-stats
print("**Estadísticas del Análisis RFM:**\n")
print(f"| Métrica | Mínimo | Promedio | Máximo |")
print(f"|---------|--------|----------|--------|")
print(f"| Recencia (días) | {rfm['recency'].min():.0f} | {rfm['recency'].mean():.1f} | {rfm['recency'].max():.0f} |")
print(f"| Frecuencia | {rfm['frequency'].min():.0f} | {rfm['frequency'].mean():.1f} | {rfm['frequency'].max():.0f} |")
print(f"| Valor Monetario ($) | {rfm['monetary'].min():,.2f} | {rfm['monetary'].mean():,.2f} | {rfm['monetary'].max():,.2f} |")
```

**Interpretación de métricas:**

- **Recencia promedio:** Indica cuántos días en promedio pasan desde la última compra de un cliente.
- **Frecuencia promedio:** Muestra el número típico de compras por cliente.
- **Valor monetario promedio:** Representa el gasto promedio total por cliente.

## Distribución de Métricas RFM

La visualización de las distribuciones permite entender la dispersión del comportamiento de los clientes:

```{python}
#| label: fig-rfm-dist
#| fig-cap: "Distribución de Métricas RFM"

fig, axes = plt.subplots(1, 3, figsize=(14, 4))

# Recencia
axes[0].hist(rfm['recency'], bins=25, color='#E74C3C', edgecolor='white', alpha=0.7)
axes[0].set_xlabel('Días desde última compra')
axes[0].set_ylabel('Frecuencia')
axes[0].set_title('Distribución de Recencia', fontweight='bold')
axes[0].axvline(rfm['recency'].mean(), color='black', linestyle='--', label=f'Media: {rfm["recency"].mean():.0f}')
axes[0].legend()

# Frecuencia
axes[1].hist(rfm['frequency'], bins=25, color='#3498DB', edgecolor='white', alpha=0.7)
axes[1].set_xlabel('Número de compras')
axes[1].set_ylabel('Frecuencia')
axes[1].set_title('Distribución de Frecuencia', fontweight='bold')
axes[1].axvline(rfm['frequency'].mean(), color='black', linestyle='--', label=f'Media: {rfm["frequency"].mean():.1f}')
axes[1].legend()

# Monetario
axes[2].hist(rfm['monetary'], bins=25, color='#27AE60', edgecolor='white', alpha=0.7)
axes[2].set_xlabel('Valor total ($)')
axes[2].set_ylabel('Frecuencia')
axes[2].set_title('Distribución Monetaria', fontweight='bold')
axes[2].axvline(rfm['monetary'].mean(), color='black', linestyle='--', label=f'Media: ${rfm["monetary"].mean():,.0f}')
axes[2].legend()

plt.tight_layout()
plt.show()
```

**Análisis de distribuciones:**

- **Recencia:** Una distribución sesgada a la izquierda indica base de clientes activa.
- **Frecuencia:** Típicamente muestra distribución exponencial con mayoría de clientes de baja frecuencia.
- **Monetario:** La distribución revela la concentración del valor en segmentos específicos.

## Segmentación por Cuartiles

Para operacionalizar el análisis, los clientes se segmentan en cuatro grupos basados en su valor monetario:

```{python}
#| label: fig-segmentos-cuartil
#| fig-cap: "Segmentación de Clientes por Valor"

fig, ax = plt.subplots(figsize=(10, 6))
segment_counts = rfm['segmento'].value_counts()
colors = ['#E74C3C', '#F39C12', '#3498DB', '#27AE60']
bars = ax.bar(segment_counts.index, segment_counts.values, color=colors, edgecolor='black')

for bar, count in zip(bars, segment_counts.values):
    ax.text(bar.get_x() + bar.get_width()/2, bar.get_height() + 1, 
            str(count), ha='center', va='bottom', fontsize=12, fontweight='bold')

ax.set_xlabel('Segmento de Cliente', fontsize=12)
ax.set_ylabel('Número de Clientes', fontsize=12)
ax.set_title('Distribución de Clientes por Segmento de Valor', fontsize=14, fontweight='bold')
plt.tight_layout()
plt.show()
```

**Descripción de segmentos:**

| Segmento | Características | Estrategia Recomendada |
|----------|-----------------|------------------------|
| **Alto Valor** | Clientes premium, alto gasto | Retención, experiencia VIP |
| **Valor Medio-Alto** | Buenos clientes con potencial | Upselling, fidelización |
| **Valor Medio-Bajo** | Clientes ocasionales | Incrementar frecuencia |
| **Bajo Valor** | Clientes esporádicos | Activación, ofertas especiales |

## Características de los Segmentos

El análisis detallado de cada segmento permite diseñar estrategias específicas:

```{python}
#| label: tbl-segmentos-stats
summary = rfm.groupby('segmento').agg({
    'recency': 'mean',
    'frequency': 'mean',
    'monetary': ['mean', 'sum'],
    'cliente_id': 'count'
}).round(2)

summary.columns = ['Recencia Prom.', 'Frecuencia Prom.', 'Valor Prom. ($)', 'Valor Total ($)', 'Clientes']
print("\n**Características por Segmento:**\n")
print(summary.to_markdown())
```

## Análisis Visual de Segmentos

La visualización bidimensional permite observar la relación entre frecuencia y valor monetario:

```{python}
#| label: fig-scatter-rfm
#| fig-cap: "Dispersión de Clientes: Frecuencia vs Valor Monetario"

fig, ax = plt.subplots(figsize=(10, 7))
colors_map = {'Bajo Valor': '#E74C3C', 'Valor Medio-Bajo': '#F39C12', 'Valor Medio-Alto': '#3498DB', 'Alto Valor': '#27AE60'}
for seg in rfm['segmento'].unique():
    mask = rfm['segmento'] == seg
    ax.scatter(rfm.loc[mask, 'frequency'], rfm.loc[mask, 'monetary'], 
               label=seg, alpha=0.6, s=50, c=colors_map.get(seg, 'gray'))

ax.set_xlabel('Frecuencia de Compra', fontsize=12)
ax.set_ylabel('Valor Monetario ($)', fontsize=12)
ax.set_title('Segmentación de Clientes: Frecuencia vs Valor Monetario', fontsize=14, fontweight='bold')
ax.legend(title='Segmento')
plt.tight_layout()
plt.show()
```

**Insights del gráfico:**

- Los clientes de **Alto Valor** (verde) se ubican en la parte superior del gráfico.
- La correlación positiva entre frecuencia y valor monetario es esperada: clientes que compran más frecuentemente tienden a gastar más.
- Clientes con alta frecuencia pero bajo valor representan oportunidades de upselling.

## Matriz Recencia vs Frecuencia

La matriz de calor proporciona una vista adicional de la distribución de clientes:

```{python}
#| label: fig-heatmap-rf
#| fig-cap: "Matriz de Clientes por Recencia y Frecuencia"

# Crear bins para recencia y frecuencia
rfm['R_bin'] = pd.qcut(rfm['recency'], q=4, labels=['Reciente', 'Medio-Rec', 'Medio-Ant', 'Antiguo'])
rfm['F_bin'] = pd.qcut(rfm['frequency'].rank(method='first'), q=4, labels=['Baja', 'Media-Baja', 'Media-Alta', 'Alta'])

# Crear matriz
matriz = pd.crosstab(rfm['R_bin'], rfm['F_bin'])

fig, ax = plt.subplots(figsize=(8, 6))
sns.heatmap(matriz, annot=True, fmt='d', cmap='YlOrRd', ax=ax, cbar_kws={'label': 'Clientes'})
ax.set_xlabel('Frecuencia de Compra', fontsize=12)
ax.set_ylabel('Recencia', fontsize=12)
ax.set_title('Distribución de Clientes: Recencia vs Frecuencia', fontsize=14, fontweight='bold')
plt.tight_layout()
plt.show()
```

**Lectura de la matriz:**

- **Esquina superior derecha (Reciente + Alta frecuencia):** Clientes más valiosos - mantener satisfechos.
- **Esquina inferior izquierda (Antiguo + Baja frecuencia):** Clientes en riesgo de pérdida.
- **Esquina superior izquierda (Reciente + Baja frecuencia):** Clientes nuevos - desarrollar relación.
- **Esquina inferior derecha (Antiguo + Alta frecuencia):** Ex-clientes valiosos - reactivar urgentemente.

# Recomendaciones Estratégicas

Basándose en los hallazgos del análisis, se proponen las siguientes recomendaciones organizadas por horizonte temporal:

## Corto Plazo (0-3 meses)

Acciones inmediatas de alto impacto y bajo costo de implementación:

| Acción | Segmento Objetivo | Impacto Esperado |
|--------|-------------------|------------------|
| Programa de reactivación | Clientes inactivos (R alto) | Recuperar 15% de clientes |
| Ofertas personalizadas | Alto Valor | Aumentar ticket promedio 10% |
| Optimización de inventario | Todos | Reducir costos 5% |
| Campaña de fidelización | Valor Medio-Alto | Incrementar frecuencia 20% |

**Acciones específicas:**

1. **Email marketing segmentado:** Enviar comunicaciones personalizadas según el segmento RFM.
2. **Descuentos por reactivación:** Ofrecer 15-20% de descuento a clientes sin compras en los últimos 90 días.
3. **Programa de puntos:** Implementar sistema de recompensas para incentivar compras repetidas.

## Mediano Plazo (3-6 meses)

Iniciativas que requieren mayor planificación y recursos:

1. **Implementar CRM** para seguimiento de clientes segmentados y automatización de campañas.

2. **Desarrollar e-commerce** para expandir mercado más allá de la tienda física y captar turistas antes de su visita.

3. **Capacitar equipo de ventas** en uso de datos para identificar oportunidades de venta cruzada.

4. **Programa de referidos** para clientes de Alto Valor, incentivando la adquisición de nuevos clientes.

## Largo Plazo (6-12 meses)

Transformación estratégica del negocio:

1. **Modelos predictivos** de demanda por temporada para optimizar compras a proveedores.

2. **Automatización** de reportería y alertas para monitoreo continuo de indicadores clave.

3. **Expansión** a nuevos mercados basada en análisis geográfico de origen de clientes.

4. **Sistema de scoring** dinámico que actualice la segmentación de clientes en tiempo real.

# Conclusiones

El análisis realizado mediante la metodología **CRISP-DM** ha proporcionado insights valiosos sobre el negocio de Artesanías Riobamba:

## Hallazgos Principales

1. **Patrones estacionales** en las ventas que pueden aprovecharse para planificación de inventario y campañas promocionales.

2. **Segmentos diferenciados** de clientes con comportamientos específicos, permitiendo estrategias de marketing personalizadas.

3. **Oportunidades claras** para incrementar retención y valor de cliente mediante programas de fidelización.

4. **Necesidad de mejora** en la captura y calidad de datos del ERP para análisis más profundos.

## Resumen Cuantitativo

```{python}
#| label: conclusiones-stats
print(f"**Métricas Clave del Análisis:**\n")
print(f"- Total de clientes analizados: **{len(rfm):,}**")
print(f"- Clientes de Alto Valor: **{(rfm['segmento'] == 'Alto Valor').sum():,}** ({(rfm['segmento'] == 'Alto Valor').sum()/len(rfm)*100:.1f}%)")
print(f"- Valor promedio por cliente: **${rfm['monetary'].mean():,.2f}**")
print(f"- Frecuencia promedio de compra: **{rfm['frequency'].mean():.1f}** transacciones")
print(f"- Recencia promedio: **{rfm['recency'].mean():.0f}** días")
```

## Impacto Esperado

La implementación de las recomendaciones propuestas puede generar:

- **Incremento del 15-20%** en la retención de clientes
- **Aumento del 10%** en el valor promedio de compra
- **Reducción del 5%** en costos de inventario
- **Mejora en la satisfacción** del cliente mediante experiencias personalizadas

## Próximos Pasos

1. Presentar hallazgos a la gerencia para aprobación de iniciativas.
2. Priorizar acciones de corto plazo para quick wins.
3. Establecer KPIs de seguimiento para medir impacto de intervenciones.
4. Programar revisión trimestral de segmentación RFM.

\newpage

# Anexos

## Anexo A: Registro de Asistencia con IA (Gemini CLI)

Este proyecto fue desarrollado con asistencia de **Gemini CLI**, una herramienta de inteligencia artificial generativa de Google. A continuación se documenta la evidencia del uso de esta tecnología como parte de las buenas prácticas de transparencia académica.

### Archivos de Registro Incluidos

| Archivo | Descripción |
|---------|-------------|
| `checkpoint-practica_4-1crisp-dm.json` | Punto de guardado del proyecto CRISP-DM |
| `session-2026-01-15T15-09-ff6cf843.json` | Sesión de trabajo del 15 de enero 2026 |
| `logs.json` | Registro general de operaciones |

### Ubicación de los Archivos

- **Ruta del proyecto:** `6_deployment/executive_report/gemini_logs/`
- **Ruta original de Gemini:** `C:\Users\nicol\.gemini\tmp\`

### Resumen del Checkpoint

```{python}
#| label: gemini-checkpoint
import json
from pathlib import Path

checkpoint_path = Path("gemini_logs/checkpoint-practica_4-1crisp-dm.json")

try:
    with open(checkpoint_path, 'r', encoding='utf-8') as f:
        checkpoint = json.load(f)
    
    print("**Información del Checkpoint:**\n")
    print(f"- **Nombre del proyecto:** practica_4-1crisp-dm")
    print(f"- **Tipo de archivo:** {'Lista' if isinstance(checkpoint, list) else 'Diccionario'}")
    
    if isinstance(checkpoint, dict):
        print(f"- **Claves principales:** {', '.join(list(checkpoint.keys())[:5])}")
    elif isinstance(checkpoint, list):
        print(f"- **Número de entradas:** {len(checkpoint)}")
    
except Exception as e:
    print(f"Archivo de checkpoint disponible en: gemini_logs/")
```

### Extracto del Registro de Sesión

```{python}
#| label: gemini-session
import json
from pathlib import Path

session_path = Path("gemini_logs/session-2026-01-15T15-09-ff6cf843.json")

try:
    with open(session_path, 'r', encoding='utf-8') as f:
        session = json.load(f)
    
    print("**Información de la Sesión:**\n")
    
    if isinstance(session, list) and len(session) > 0:
        print(f"- **Total de interacciones:** {len(session)}")
    elif isinstance(session, dict):
        print(f"- **Claves:** {', '.join(list(session.keys())[:5])}")
        
except Exception as e:
    print(f"Archivo de sesión disponible en: gemini_logs/")
```

### Declaración de Uso de IA

> *"Este proyecto de análisis de datos fue desarrollado siguiendo la metodología CRISP-DM con asistencia de herramientas de inteligencia artificial generativa (Gemini CLI y GitHub Copilot). Los logs de las conversaciones se adjuntan como evidencia de transparencia académica. El uso de estas herramientas fue supervisado y validado por el autor del proyecto."*

## Anexo B: Herramientas Utilizadas

El desarrollo de este proyecto utilizó las siguientes herramientas tecnológicas:

| Herramienta | Versión | Propósito |
|-------------|---------|-----------|
| Python | 3.13.9 | Lenguaje principal de análisis |
| Pandas | 2.x | Manipulación y análisis de datos |
| Matplotlib | 3.x | Visualización de datos |
| Seaborn | 0.13.x | Gráficos estadísticos avanzados |
| NumPy | 1.x | Cálculos numéricos |
| Quarto | 1.8.26 | Generación de reportes PDF |
| Gemini CLI | Latest | Asistencia con IA generativa |
| GitHub Copilot | Claude Opus 4.5 | Asistencia con código |

## Anexo C: Estructura del Proyecto

El proyecto sigue la estructura estándar de la metodología CRISP-DM:

```
PRACTICA 4.1 CRISP D-M/
├── 1_business_understanding/    # Comprensión del negocio
├── 2_data_understanding/        # Exploración de datos
├── 3_data_preparation/          # Preparación de datos
├── 4_modeling/                  # Modelado RFM
├── 5_evaluation/                # Evaluación de resultados
├── 6_deployment/                # Despliegue y reportes
│   └── executive_report/
│       ├── executive_report.qmd
│       ├── executive_report.pdf
│       └── gemini_logs/
├── data/
│   ├── raw/                     # Datos originales
│   └── processed/               # Datos procesados
├── docs/                        # Documentación
├── models/                      # Modelos guardados
├── reports/                     # Reportes adicionales
└── src/                         # Código fuente
```

---

\begin{center}
\rule{0.5\textwidth}{0.4pt}

\vspace{0.8cm}

\textbf{\Large Documento elaborado por:}

\vspace{0.3cm}

\textbf{\huge Daniel Quiguiri}

\textbf{\large Código: 7270}

\vspace{0.3cm}

\textit{Ingeniería de Software}

\textit{Práctica 4.1 - Metodología CRISP-DM}

\vspace{0.3cm}

\textbf{Enero 2026}

\vspace{0.5cm}

\rule{0.5\textwidth}{0.4pt}
\end{center}